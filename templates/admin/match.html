{% extends 'admin/base_site.html' %}
{% block content %}
    <a href="{% url 'admin:betting_match_add' %}" class="btn btn-success text-white float-lg-end">Add New Match</a>
    <h1>Work in progress</h1>
    {% for match in match_list %}
        <div style="margin-bottom: 100px">
            <div class="row">
                <div class="col-sm">
                    <label class="required" for="id_game_name">Game name:</label>
                    <input name="game_name" required="" id="id_game_name" class="form-control"
                           value="{{ match.game_name }}"
                           readonly>
                </div>
                <div class="col-sm">
                    <label class="required" for="id_title">Match Title:</label>
                    <input type="text" name="title" value="{{ match.title }}" class="form-control" maxlength="255"
                           required="" id="id_title" readonly>
                </div>
            </div>
            <div class="row">
                <div class="col-sm">
                    <label for="start_date">Start date</label>
                    <input type="text" id="start_date" value="{{ match.start_time|date:"Y-m-d H:i:s" }}"
                           class="form-control" readonly></div>
                <div class="col-sm">
                    <label for="end_time_0">End date</label>
                    <input type="text" id="end_time_0" value="{{ match.end_time|date:"Y-m-d H:i:s" }}"
                           class="form-control" readonly></div>
            </div>
            <a class="btn btn-success text-white" href="{% url 'admin:betting_betscope_add' %}?match_id={{ match.id }}">
                Add new bet Option
            </a>
            <button class="btn btn-info">Edit Match</button>
            <button class="btn btn-danger float-end">Lock Match</button>
            <div class="container">
                <h2>Bet option list</h2>
                <table class="table table-striped table-light table-bordered">
                    <tr>
                        <th>Question</th>
                        <th>Option 1</th>
                        <th>Option 2</th>
                        <th>Option 3</th>
                        <th>Option 4</th>
                        <th>Action</th>
                    </tr>
                    {% for bet_scope in match.betscope_set.all %}
                        <tr>
                            <td rowspan="2">{{ bet_scope.question }}</td>
                            <td>{{ bet_scope.option_1 }}</td>
                            <td>{{ bet_scope.option_2 }}</td>
                            <td>{{ bet_scope.option_3 }}</td>
                            <td>{{ bet_scope.option_4 }}</td>
                            <td><button class="btn-sm btn-danger rounded-pill">Lock</button></td>
                        </tr>
                        <tr>
                            <td>{{ bet_scope.option_1_rate }}</td>
                            <td>{{ bet_scope.option_2_rate }}</td>
                            <td>{{ bet_scope.option_3_rate }}</td>
                            <td>{{ bet_scope.option_4_rate }}</td>
                            <td><button class="btn-sm btn-success rounded-pill">Detail</button></td>
                        </tr>
                    {% empty %}
                        <p class="h1">No bet options for this match</p>
                    {% endfor %}
                </table>
            </div>
        </div>

    {% empty %}
        <p class="h1">No live match available</p>
    {% endfor %}
{% endblock %}
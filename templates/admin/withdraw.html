{% extends 'admin/base_site.html' %}
{% block content %}
    {% for withdraw in unverified_withdraws %}
        <form action="{% url 'admin:betting_withdraw_change' withdraw.id %}" method="post" style="padding-bottom: 100px">
            {% csrf_token %}
            <label>Username
                <input type="text" value="{{ withdraw.user.username }}" class="form-control" readonly>
            </label>
            <label>
                <input name="user" type="number" value="{{ withdraw.user_id }}" hidden>
            </label>
            <label>Full Name
                <input type="text" class="form-control" value="{{ withdraw.user.full_name|default:"Not given" }}"
                       disabled>
            </label>

            <div>
                <label class="required" for="id_method">Method:</label>
                <input name="method" required="" value="{{ withdraw.method }}" id="id_method" class="form-control"
                       readonly>
            </div>
            <label for="id_verified"><input type="text" name="verified" id="id_verified" value="true" hidden></label>
            <br>

            <label for="id_transaction_id">Transaction id:</label>
            <input value="{{ withdraw.transaction_id|default:"" }}" type="text" name="transaction_id"
                   class="form-control" maxlength="255" id="id_transaction_id">

            <label class="required label" for="id_amount">Amount:</label>
            <input type="number" name="amount" value={{ withdraw.amount }} step="0.01" required="" id="id_amount"
                   class="form-control">

            <label for="id_account">Account:</label>
            <input value="{{ withdraw.account|default:"" }}" type="text" name="account" class="form-control"
                   maxlength="255" id="id_account" readonly>

            <label for="id_superuser_account">Superuser account:</label>
            <input value="{{ withdraw.superuser_account|default:"" }}" type="text" name="superuser_account"
                   class="form-control" maxlength="255" id="id_superuser_account">

            <label>Date:<input type="date" name="created_at_0" value={{ withdraw.created_at|date:"Y-m-d" }}
                               class="form-control" readonly> </label>
            <label>Time:<input type="time" name="created_at_1" value="{{ withdraw.created_at|time:"H:i:s" }}"
                                class="form-control" readonly></label>
            <br>

            <input type="submit" value="Verify" class="btn btn-success" name="_save">

            <a href="{% url 'admin:betting_withdraw_delete' withdraw.id %}"
               class="btn btn-danger float-end text-white">Cancel</a>

        </form>
    {% empty %}
        <p>There is no unverified withdraw</p>
    {% endfor %}
{% endblock %}